"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["fh-product-video"],{8816:(t,e,i)=>{var s=i(1279),r=i(7474);class n extends s.Z{init(){this._setProductVideoPreloadBehaviour(),super.init()}_setProductVideoPreloadBehaviour(){const t=navigator.userAgent.toLowerCase();let e=!1;if(-1!==t.indexOf("safari")&&-1===t.indexOf("chrome")&&(e=!0),!e){this.el.querySelectorAll("video").forEach((t=>{t.setAttribute("preload","auto")}))}}_initSlider(){super._initSlider(),this._slider&&this._slider.events.on("transitionStart",(()=>{this._stopProductVideo()}))}_registerEvents(){if(this._slider){document.addEventListener("Viewport/hasChanged",(t=>{"NONE"!==t.detail.previousViewport&&this.rebuild(r.Z.getCurrentViewport())}));const t=this.el.querySelector(".zoom-modal-wrapper .close");t&&t.addEventListener("click",this._stopProductVideo.bind(this))}}_stopProductVideo(){const t=this.el.querySelectorAll("video"),e=this.el.querySelectorAll(".youtube"),i=this.el.querySelectorAll(".vimeo"),s=this.el.querySelectorAll(".local");t.forEach((t=>{t.pause(),t.currentTime=0})),e.forEach((t=>{t.contentWindow.postMessage('{ "event": "command", "func": "stopVideo", "args": "" }',"*")})),i.forEach((t=>{const e=t.getAttribute("src");t.src="",t.src=e})),s.forEach((t=>{const e=t.getAttribute("src");t.src="",t.src=e}))}}window.PluginManager.override("GallerySlider",n,"[data-gallery-slider]")},9528:(t,e,i)=>{i.d(e,{Z:()=>c});var s,r,n,o=i(6285),l=i(4079),d=i(7474),a=i(2453),h=i(9068);class c extends o.Z{init(){this._slider=!1,this.el.classList.contains(this.options.initializedCls)||(this.options.slider=a.Z.prepareBreakpointPxValues(this.options.slider),this._correctIndexSettings(),this._getSettings(d.Z.getCurrentViewport()),this._initSlider(),this._registerEvents())}_correctIndexSettings(){this.options.slider.startIndex-=1,this.options.slider.startIndex=this.options.slider.startIndex<0?0:this.options.slider.startIndex}destroy(){if(this._slider&&"function"==typeof this._slider.destroy)try{this._slider.destroy()}catch(t){}this.el.classList.remove(this.options.initializedCls)}_registerEvents(){this._slider&&document.addEventListener("Viewport/hasChanged",(()=>this.rebuild(d.Z.getCurrentViewport())))}rebuild(t=d.Z.getCurrentViewport(),e=!1){this._getSettings(t.toLowerCase());try{if(this._slider&&!e){const t=this._getCurrentIndex();this._sliderSettings.startIndex=t}this.destroy(),this._initSlider()}catch(t){}this.$emitter.publish("rebuild")}_getSettings(t){this._sliderSettings=a.Z.getViewportSettings(this.options.slider,t)}getCurrentSliderIndex(){if(!this._slider)return;const t=this._slider.getInfo();let e=t.displayIndex%t.slideCount;return e=0===e?t.slideCount:e,e-1}getActiveSlideElement(){const t=this._slider.getInfo();return t.slideItems[t.index]}_initSlider(){this.el.classList.add(this.options.initializedCls);const t=this.el.querySelector(this.options.containerSelector),e=this.el.querySelector(this.options.controlsSelector),i=()=>{h.Z.initializePlugins(),this.$emitter.publish("initSlider")};t&&(this._sliderSettings.enabled?(t.style.display="",this._slider=(0,l.W)({container:t,controlsContainer:e,onInit:i,...this._sliderSettings})):t.style.display="none"),this.$emitter.publish("afterInitSlider")}_getCurrentIndex(){const t=this._slider.getInfo();let e=t.index%t.slideCount;return e=0===e?t.slideCount:e,e-1}}s=c,n={initializedCls:"js-slider-initialized",containerSelector:"[data-base-slider-container=true]",controlsSelector:"[data-base-slider-controls=true]",slider:{enabled:!0,responsive:{xs:{},sm:{},md:{},lg:{},xl:{},xxl:{}}}},(r=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(r="options"))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n},1279:(t,e,i)=>{i.d(e,{Z:()=>S});var s,r,n,o=i(1857),l=i.n(o),d=i(8203),a=i(7474),h=i(2453),c=i(9068),u=i(1966),p=i(9528),g=i(3206);class S extends p.Z{init(){this._slider=!1,this._thumbnailSlider=!1,this.el.classList.contains(this.options.initializedCls)||(this.options.slider=h.Z.prepareBreakpointPxValues(this.options.slider),this.options.thumbnailSlider=h.Z.prepareBreakpointPxValues(this.options.thumbnailSlider),this._correctIndexSettings(),this._getSettings(a.Z.getCurrentViewport()),this._initSlider(),this._registerEvents())}_correctIndexSettings(){super._correctIndexSettings(),this.options.thumbnailSlider.startIndex-=1,this.options.thumbnailSlider.startIndex=this.options.thumbnailSlider.startIndex<0?0:this.options.thumbnailSlider.startIndex}destroy(){if(this._slider&&"function"==typeof this._slider.destroy)try{this._slider.destroy()}catch(t){}if(this._thumbnailSlider&&"function"==typeof this._thumbnailSlider.destroy)try{this._thumbnailSlider.destroy()}catch(t){}this.el.classList.remove(this.options.initializedCls)}rebuild(t=a.Z.getCurrentViewport()){this._getSettings(t.toLowerCase());try{if(this._slider){const t=this.getCurrentSliderIndex();this._sliderSettings.startIndex=t,this._thumbnailSliderSettings.startIndex=t}this.destroy(),this._initSlider()}catch(t){}this.$emitter.publish("rebuild")}_getSettings(t){super._getSettings(t),this._thumbnailSliderSettings=h.Z.getViewportSettings(this.options.thumbnailSlider,t)}_setActiveDot(){const t=this.getCurrentSliderIndex();u.Z.iterate(this._dots,(t=>t.classList.remove(this.options.dotActiveClass)));const e=this._dots[t];e&&e.classList.add(this.options.dotActiveClass)}_initDots(){this._dots=this.el.querySelectorAll("["+this.options.navDotDataAttr+"]"),this._dots&&(u.Z.iterate(this._dots,(t=>{t.addEventListener("click",this._onDotClick.bind(this))})),this._setActiveDot(),this._slider&&this._slider.events.on("indexChanged",(()=>{this._setActiveDot()})))}_onDotClick(t){const e=g.Z.getDataAttribute(t.target,this.options.navDotDataAttr);this._slider.goTo(e-1)}_initSlider(){this.el.classList.add(this.options.initializedCls);const t=this.el.querySelector(this.options.containerSelector),e=this.el.querySelector(this.options.thumbnailsSelector),i=this.el.querySelector(this.options.controlsSelector),s=!!e;if(t){const r=()=>{c.Z.initializePlugin("Magnifier","[data-magnifier]"),c.Z.initializePlugin("ZoomModal","[data-zoom-modal]"),s||this.el.classList.remove(this.options.loadingCls),this.$emitter.publish("initGallerySlider")};this._sliderSettings.enabled?(t.style.display="",this._slider=(0,d.W)({container:t,controlsContainer:i,navContainer:e,onInit:r,...this._sliderSettings}),this._initDots()):t.style.display="none"}if(e){const t=this.el.querySelector(this.options.thumbnailControlsSelector),i=()=>{s&&this.el.classList.remove(this.options.loadingCls),this.$emitter.publish("initThumbnailSlider")};this._thumbnailSliderSettings.enabled?(e.style.display="",this._thumbnailSlider=(0,d.W)({container:e,controlsContainer:t,onInit:i,...this._thumbnailSliderSettings})):(e.style.display="none",this.el.classList.remove(this.options.loadingCls))}this._navigateThumbnailSlider(),this.$emitter.publish("afterInitSlider")}_navigateThumbnailSlider(){const t=this._thumbnailSlider&&this._thumbnailSlider.getInfo();this._slider&&t&&this._slider.events.on("indexChanged",(()=>{const e=this.getCurrentSliderIndex();t.slideItems[e].getAttribute("aria-hidden")&&this._thumbnailSlider.goTo(e-1)}))}}s=S,r="options",n=l()(p.Z.options,{containerSelector:"[data-gallery-slider-container=true]",thumbnailsSelector:"[data-gallery-slider-thumbnails=true]",controlsSelector:"[data-gallery-slider-controls=true]",thumbnailControlsSelector:"[data-thumbnail-slider-controls=true]",dotActiveClass:"tns-nav-active",navDotDataAttr:"data-nav-dot",loadingCls:"is-loading",slider:{preventScrollOnTouch:"auto",startIndex:1,responsive:{xs:{},sm:{},md:{},lg:{},xl:{},xxl:{}}},thumbnailSlider:{enabled:!0,loop:!1,nav:!1,items:5,gutter:10,startIndex:1,preventScrollOnTouch:"force",responsive:{xs:{},sm:{},md:{},lg:{},xl:{},xxl:{}}}}),(r=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n},2453:(t,e,i)=>{i.d(e,{Z:()=>o});var s=i(1857),r=i.n(s),n=i(1966);class o{static getViewportSettings(t,e){const i=Object.assign({},t),s=t.responsive;delete i.responsive;const n=s[window.breakpoints[e.toLowerCase()]];return n?r()(i,n):i}static prepareBreakpointPxValues(t){return n.Z.iterate(t.responsive,((e,i)=>{const s=window.breakpoints[i.toLowerCase()];t.responsive[s]=e,delete t.responsive[i]})),t}}}},t=>{t.O(0,["vendor-node","vendor-shared"],(()=>{return e=8816,t(t.s=e);var e}));t.O()}]);